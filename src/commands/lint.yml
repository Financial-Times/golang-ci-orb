description: Runs golangci-lint toool with predefined linters' config
parameters:
  golangci-lint-version:
    type: string
    default: "v1.51.1"
  golangci-config:
    description: >
      Location for golangci config file to be used (downloaded with wget)
    type: string
    default:
      "https://raw.githubusercontent.com/Financial-Times/upp-coding-standard/\
      v1.3.2/golangci-config/.golangci.yml"
steps:
  - run:
      name: Download linters' config file
      command: wget <<parameters.golangci-config>>
  - run:
      name: Run linters
      environment:
        GOLANGCI_LINT_VERSION: <<parameters.golangci-lint-version>>
      command: <<include(scripts/golangci-lint.sh)>>
