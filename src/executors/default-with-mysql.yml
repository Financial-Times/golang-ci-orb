parameters:
  golang-image-version:
    type: string
    default: "1"
  mysql-image-version:
    type: string
    default: "5.6"
docker:
  - image: golang:<<parameters.golang-image-version>>
    environment:
      DB_TEST_URL: root:password@/pac
  - image: mysql:<<parameters.mysql-image-version>>
    # db.t2.small allows 45 connections
    command: [mysqld, --max-connections=45]
    environment:
      MYSQL_ROOT_PASSWORD: password
      MYSQL_DATABASE: pac
